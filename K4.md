# Automation mit MIDI


MIDI ... Musical Instrument Digital Interface

## MIDI Spec

[MIDI website](https://www.midi.org/)

## Prinzip

- Status Byte ... MSB 1 
- Data Byte 1 ... MSB 0
- Data Byte 2 ... MSB 0

MSB (Most Significant Bit)
![](K4/msb.png)

### Rheinfolge ist wichtig

![](K4/order.png)


## MIDI Objekte in Max

![MIDI](K4/midi.png)

- midiinfo ... midi hardware info
- midiin ... raw midi in
- midiout ... raw midi out
- bendin ... pitch bend in
- bendout ... pitch bend out
- notein ... note in
- noteout ... note out
- ctlin ... control in
- ctlout ... control out
- pgmin ... program change in
- pgmout ... program change out
- sysexin ... system exclusive in
- midiparse ... raw midi -> mehere Outlets
- midiformat ... mehrere Inlets -> raw midi
- midiselect ... midiparse + filter
- rtin ... midi realtime message

#### Realtime message

[MIDI Realtime Message](https://www.recordingblogs.com/wiki/midi-system-realtime-messages)

[MIDI Status Byte](https://www.midi.org/specifications-old/item/table-2-expanded-messages-list-status-bytes)

MIDI system realtime messages are messages that are not specific to a MIDI channel but prompt all devices on the MIDI system to respond and to do so in real time.

![char](K4/realtime.png)

A MIDI system realtime message – usually the MIDI clock message – can be placed *in the middle of another message without affecting this other message* or changing the MIDI running status. The realtime message can be recognized and handled appropriately, because its status byte has a topmost bit equal to 1, whereas the bytes of MIDI message data after the status byte have topmost bytes equal to 0, and because the length of system realtime messages is known.

#### experiment

![](K4/experiment.png)


## Kontrol mit DAW

### to Max 1 als DAW MIDI OUT

![](K4/dawout.png)

### to Max 1 als MIDI IN

![](K4/selection.png)

### Wiedergabe in DAW
![](K4/dawcontrol.png)

### in Max
![](K4/dawin.png)

## Synchronisierung mit MIDI

- MMC (MIDI Machine Control) ... start stop
- SPP (Song Position Pointer) ... schickt die genaue Position des Abspielkopfes
- MIDI Clock (MIDI Clock) ... Tempo abhägig clock
- MTC (MIDI Time Code) ... time code für Synchronisierung mit Video

Es gibt keine offizielle MIDI message für "Tempo" oder "Zeitstempel".

[Tweakhead Webseite](K4/https://www.tweakheadz.com/sync_mmc_mtc_smpte.htm)


## Max als Sync Slave


### MMC (MIDI Machine Control)

- start (Status Byte 250 / realtime)
- stop (Status Byte 252 / realtime)
- continue (Status Byte 251 / realtime)

![](K4/mmc.png)

### MIDI Clock 

- clock (Status Byte 248 / realtime)

![](K4/midi_clock.png)


#### MIDI Clock Hardware
[MIDI Clock - e-rm](https://www.e-rm.de/midiclock/)

### SPP (Song Position Pointer)

- Status Byte - 242
- Data Byte1	- MIDI Beats1
- Data Byte2	- MIDI Beats2

1 MIDI beat = sechzehntel

![SPP](K4/spp.png)


### MTC (MIDI Time Code)

#### zwei typen 

##### Full time code (Wenn der Abspielkopf springt)

F0 7F 7F 01 01 *hh mm ss ff* F7

- F0 - 240 ... System Exclusive
- 7F ... real-time universal message
- 7F ... global broadcast
- 01 ... time code type
- 01 ... full time code
- hh ... hour
- mm ... minutes
- ss ... seconds
- ff ... frame
- F7 - 247 ... End of System Exclusive



##### Quarter Frame time code

## Max als Sync Master


### MMC

### MIDI Clock

### SPP

### MTC




## MIDI Sequencer in Max

![MIDI](K4/seq.png)

### seq

![](K4/seq_mario.png)

### detonate

![detonate](K4/detonate.png)



## Automation mit Audio

### Extrem prezise, keine Latenz

![audioenv](K4/dawin.png)


### Audio Feature Extraction als Automation

![](K4/envelop.png)


### "Bang" mit audio / Analog Synti

![impulse](K4/impulse_max.png)


![daw](K4/impulse_daw.png)

- Ch 1-2 ... Audio
- Ch 3 ... Impulse (Audio Bangs)

![pulse](K4/audiopulse.png)




